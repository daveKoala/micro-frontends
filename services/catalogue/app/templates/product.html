{% extends "base.html" %}

{% block content %}
<div class="breadcrumb">
    <a href="{{ base_path }}">Products</a> / {{ product.name }}
</div>

<div class="product-detail">
    <div class="product-detail-image">
        <img src="{{ product.image }}" alt="{{ product.name }}">
    </div>

    <div class="product-detail-info">
        <h1>{{ product.name }}</h1>
        <p class="product-category-badge">{{ product.category | capitalize }}</p>

        <p class="product-detail-price">${{ "%.2f"|format(product.price) }}</p>

        <div class="product-detail-stock">
            {% if product.stock > 0 %}
            <span class="in-stock">In Stock ({{ product.stock }} available)</span>
            {% else %}
            <span class="out-of-stock">Out of Stock</span>
            {% endif %}
        </div>

        <div class="product-detail-description">
            <h3>Description</h3>
            <p>{{ product.description }}</p>
        </div>

        <div class="product-detail-actions">
            <a href="{{ base_path }}/product/{{ product._id }}/edit" class="btn btn-primary">Edit Product</a>
            <form action="{{ base_path }}/product/{{ product._id }}/delete" method="POST" style="display: inline;">
                <button type="submit" class="btn btn-danger" onclick="return confirm('Delete this product?')">Delete</button>
            </form>
            <a href="{{ base_path }}" class="btn">Back to Catalogue</a>
        </div>
    </div>
</div>
{% endblock %}
