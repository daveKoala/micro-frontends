<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ title }} | Catalogue Service</title>
    <!-- Shared styles (single source of truth) -->
    <link rel="stylesheet" href="{{ request.state.shared_assets_url }}/css/base.css">
    <!-- Service-specific styles -->
    <link rel="stylesheet" href="{{ base_path }}/static/css/style.css">
</head>
<body>
    <!-- Header loaded from shared partials -->
    <header class="header"></header>

    <main class="main">
        <div class="container">
            {% block content %}{% endblock %}
        </div>
    </main>

    <!-- Footer loaded from shared partials -->
    <footer class="footer"></footer>

    <!-- Shared assets configuration (from environment) -->
    <script>
        window.SHARED_CONFIG = {
            baseUrl: '{{ request.state.shared_assets_url }}',
            cache: true,
            version: '{{ request.state.shared_assets_version }}'
        };
    </script>
    <!-- Shared scripts -->
    <script src="{{ request.state.shared_assets_url }}/js/event-bus.js"></script>
    <script src="{{ request.state.shared_assets_url }}/js/auth.js"></script>
    <script src="{{ request.state.shared_assets_url }}/js/loader.js"></script>
    <script src="{{ request.state.shared_assets_url }}/js/debug-panel.js"></script>
    <!-- Service-specific scripts -->
    <script src="{{ base_path }}/static/js/main.js"></script>
</body>
</html>
